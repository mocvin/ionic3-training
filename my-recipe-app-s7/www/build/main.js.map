{"version":3,"sources":["../../src/models/ingredient.ts","../../src/pages/shopping-list/si-options/si-options.ts","../../src/pages/recipe/recipe.ts","../../src/pages/recipes/recipes.ts","../../src/pages/shopping-list/shopping-list.ts","../../src/pages/signin/signin.ts","../../src/pages/signup/signup.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/tabs/tabs.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/models/recipe.ts","../../src/services/auth.ts","../../src/actions/recipe.action.ts","../../src/actions/ingredient.action.ts","../../src/app/app.component.ts","../../src/reducers/recipe.reducer.ts","../../src/pages/recipes/recipes-options/recipes-options.ts","../../src/services/recipes.ts","../../src/pages/edit-recipe/edit-recipe.ts","../../src/services/shopping-list.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["\nexport class Ingredient {\n  constructor(public name?: string, public amount?: number) {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/ingredient.ts","import {Component} from \"@angular/core\";\nimport {ViewController} from \"ionic-angular\";\n\n@Component({\n    selector: 'page-sl-options',\n    template: `\n        <ion-grid text-center>\n            <ion-row>\n                <ion-col>\n                    <h3>Stoore & Load</h3>\n                </ion-col>\n            </ion-row>\n            <ion-row>\n                <ion-col>\n                    <button ion-button outline (click)=\"onAction('load')\">Load List</button>\n                </ion-col>\n            </ion-row>\n            <ion-row>\n                <ion-col>\n                    <button ion-button outline (click)=\"onAction('store')\">Save List</button>\n                </ion-col>\n            </ion-row>\n        </ion-grid>\n    `\n})\nexport class SiOptionsPage {\n\n\n    constructor(private viewCtrl: ViewController) {}\n\n    onAction(action: string) {\n        this.viewCtrl.dismiss({action: action});\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shopping-list/si-options/si-options.ts","import { Component } from '@angular/core';\nimport {\n    IonicPage,\n    LoadingController,\n    NavController,\n    NavParams,\n    PopoverController,\n    ToastController\n} from 'ionic-angular';\nimport {Recipe} from \"../../models/recipe\";\nimport {Ingredient} from \"../../models/ingredient\";\nimport {IngredientActions} from \"../../actions/ingredient.action\";\nimport {RecipeActions} from \"../../actions/recipe.action\";\nimport {EditRecipePage} from \"../edit-recipe/edit-recipe\";\nimport {AuthService} from \"../../services/auth\";\n\n/**\n * Generated class for the RecipePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-recipe',\n  templateUrl: 'recipe.html',\n})\nexport class RecipePage {\n\n  recipe: Recipe;\n  index: number;\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              private ingredientActions: IngredientActions,\n              private recipeActions: RecipeActions,\n              public toastCtrl: ToastController) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad RecipePage');\n  }\n\n  ionViewWillEnter(): void {\n    this.recipe = this.navParams.get('recipe');\n    this.index = this.navParams.get('index');\n  }\n\n  onClickToBuyIngredients(recipe: Recipe) {\n    this.ingredientActions.addIngredients(recipe.ingredients);\n    this.presentToast('Ingredients added to the shopping list!')\n  }\n\n  private presentToast(message = 'Ok',\n                       duration = 3000,\n                       position = 'bottom',\n                       showCloseButton = false,\n                       closeButtonText = 'Ok') {\n\n    const toast = this.toastCtrl.create({\n      message: message,\n      duration: duration,\n      position,\n      showCloseButton,\n      closeButtonText\n    });\n\n    toast.present();\n  }\n\n  onClickEditRecipe(recipe: Recipe, idx: number) {\n    this.navCtrl.push(EditRecipePage, {mode: 'Edit', recipe, index: idx});\n  }\n\n  onClickDeleteRecipe() {\n    this.recipeActions.removeRecipe(this.index);\n    this.presentToast('Recipe deleted!');\n    this.navCtrl.popToRoot();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/recipe/recipe.ts","import {Component} from '@angular/core';\nimport {\n    IonicPage, Loading,\n    LoadingController,\n    NavController,\n    PopoverController,\n    ToastController\n} from 'ionic-angular';\nimport {EditRecipePage} from \"../edit-recipe/edit-recipe\";\nimport {RecipeActions} from \"../../actions/recipe.action\";\nimport {select} from \"@angular-redux/store\";\nimport {Recipe} from \"../../models/recipe\";\nimport {IngredientActions} from \"../../actions/ingredient.action\";\nimport {RecipePage} from \"../recipe/recipe\";\nimport {AuthService} from \"../../services/auth\";\nimport {SiOptionsPage} from \"../shopping-list/si-options/si-options\";\nimport {RecipesService} from \"../../services/recipes\";\nimport {Observable} from \"rxjs/Observable\";\nimport {Subscription} from \"rxjs/Subscription\";\n\n@IonicPage()\n@Component({\n    selector: 'page-recipes',\n    templateUrl: 'recipes.html',\n})\nexport class RecipesPage {\n\n    @select() recipes;\n    @select() loading$: Observable<boolean>;\n\n    private subscription: Subscription;\n    private loading: Loading;\n\n    constructor(public navCtrl: NavController,\n                public recipeActions: RecipeActions,\n                private recipesService: RecipesService,\n                public ingredientActions: IngredientActions,\n                private authService: AuthService,\n                private loadCtrl: LoadingController,\n                private popoverCtrl: PopoverController,\n                public toastCtrl: ToastController) {}\n\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad RecipesPage');\n    }\n\n    onNewRecipe() {\n        this.navCtrl.push(EditRecipePage, {mode: 'New'});\n    }\n\n    onClickToBuyIngredients(recipe: Recipe) {\n        this.ingredientActions.addIngredients(recipe.ingredients);\n        this.presentToast('Ingredients added!')\n    }\n\n    onClickToRemove(recipe: Recipe, idx: number) {\n        this.recipeActions.removeRecipe(idx);\n        this.presentToast('Recipe deleted');\n    }\n\n    private presentToast(message = 'Ok',\n                         duration = 3000,\n                         position = 'bottom',\n                         showCloseButton = false,\n                         closeButtonText = 'Ok') {\n        const toast = this.toastCtrl.create({\n            message: message,\n            duration: duration,\n            position,\n            showCloseButton,\n            closeButtonText\n        });\n\n        toast.present();\n    }\n\n    onClickViewDescription(recipe: Recipe, index: number) {\n        this.navCtrl.push(RecipePage, {'recipe': recipe, index})\n    }\n\n    onShowOptions(event: MouseEvent) {\n        const popover = this.popoverCtrl.create(SiOptionsPage);\n        popover.present({ev: event});\n        popover.onDidDismiss(data => {\n            if (data.action == 'load') {\n                this.recipesService.getRecipes();\n            } else {\n                this.recipesService.storeList()\n                    .then(() => this.presentToast('List stored.'))\n            }\n        });\n    }\n\n    ionViewDidEnter(): void {\n        this.subscription = this.loading$.subscribe((val) => {\n            if (val) {\n                this.loading = this.loadCtrl.create({\n                    content: 'Loading...'\n                });\n                this.loading.present();\n            } else {\n                if (this.loading) {\n                    this.loading.dismiss();\n                }\n            }\n        })\n    }\n\n    ionViewDidLeave(): void {\n        this.subscription.unsubscribe();\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/recipes/recipes.ts","import {Component, ViewChild} from '@angular/core';\nimport {IonicPage, Loading, LoadingController, PopoverController, ToastController} from 'ionic-angular';\nimport {NgForm} from \"@angular/forms\";\nimport {ShoppingListService} from \"../../services/shopping-list\";\nimport {Ingredient} from \"../../models/ingredient\";\nimport {select} from \"@angular-redux/store\";\nimport {SiOptionsPage} from \"./si-options/si-options\";\nimport {AuthService} from \"../../services/auth\";\nimport {Observable} from \"rxjs/Observable\";\nimport {Subscription} from \"rxjs/Subscription\";\n\n@IonicPage()\n@Component({\n    selector: 'page-shopping-list',\n    templateUrl: 'shopping-list.html',\n})\nexport class ShoppingListPage {\n\n    @select() ingredients;\n    @select() loading$: Observable<boolean>;\n\n    ingredientToEdit: Ingredient = new Ingredient();\n    idxIngredientToEdit: number = -1;\n\n    editMode = false;\n    @ViewChild('f') form;\n    private subscription: Subscription;\n    private loading: Loading;\n\n    constructor(private slService: ShoppingListService,\n                private toastCtrl: ToastController,\n                private authService: AuthService,\n                private popoverCtrl: PopoverController,\n                private loadCtrl: LoadingController) {\n    }\n\n    onAddItem(form: NgForm) {\n        console.info('Form Value', form.value);\n        if (this.editMode) {\n            this.slService.removeItem(this.idxIngredientToEdit);\n            this.editMode = false;\n        }\n        this.slService.addItem(form.value);\n        this.presentToast('Added ingredient', 2000, 'middle');\n        form.reset();\n    }\n\n    private presentToast(message = 'Ok',\n                         duration = 3000,\n                         position = 'bottom',\n                         showCloseButton = false,\n                         closeButtonText = 'Ok') {\n        const toast = this.toastCtrl.create({\n            message: message,\n            duration: duration,\n            position,\n            showCloseButton,\n            closeButtonText\n        });\n        toast.present();\n    }\n\n    onClickRemoveIngredient(index: number) {\n        console.info('Delete', index);\n        this.slService.removeItem(index);\n    }\n\n    onClickEditIngredient(index: number, ingredient: Ingredient) {\n        Object.assign(this.ingredientToEdit, ingredient);\n        this.idxIngredientToEdit = index;\n        this.editMode = true;\n    }\n\n    onShowOptions(event: MouseEvent) {\n        const popover = this.popoverCtrl.create(SiOptionsPage);\n        popover.present({ev: event});\n\n        popover.onDidDismiss(data => {\n            if (data.action == 'load') {\n                this.slService.getItems();\n            } else {\n                this.slService.storeList()\n                    .then(() => this.presentToast('List stored.'))\n            }\n        });\n    }\n\n    ionViewDidEnter(): void {\n        this.subscription = this.loading$.subscribe((val) => {\n            if (val) {\n                this.loading = this.loadCtrl.create({\n                    content: 'Loading...'\n                });\n                this.loading.present();\n            } else {\n                if (this.loading) {\n                    this.loading.dismiss();\n                }\n            }\n        })\n    }\n\n    ionViewDidLeave(): void {\n        this.subscription.unsubscribe();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shopping-list/shopping-list.ts","import { Component } from '@angular/core';\nimport {AlertController, IonicPage, LoadingController, NavController, NavParams} from 'ionic-angular';\nimport {AuthService} from \"../../services/auth\";\nimport {NgForm} from \"@angular/forms\";\n\n@IonicPage()\n@Component({\n  selector: 'page-signin',\n  templateUrl: 'signin.html',\n})\nexport class SigninPage {\n\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              private authService: AuthService,\n              private loadingCtrl: LoadingController,\n              private alertCtrl: AlertController) {\n  }\n\n  onSignin(form: NgForm) {\n      const loading = this.loadingCtrl.create({\n          content: 'Signing you in...'\n      });\n      loading.present();\n    const {email, password} = form.value;\n    this.authService.signin(email,password)\n        .then(data => {\n            loading.dismiss();\n        })\n        .catch(error =>  {\n            console.info('firebase error response', error);\n            loading.dismiss();\n            this.alertCtrl.create({\n                title: \"Signin failed\",\n                message: error.message,\n                buttons: ['OK']\n            }).present()\n        });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signin/signin.ts","import { Component } from '@angular/core';\nimport {AlertController, IonicPage, LoadingController, NavController, NavParams} from 'ionic-angular';\nimport {NgForm} from \"@angular/forms\";\nimport {AuthService} from \"../../services/auth\";\n\n@IonicPage()\n@Component({\n  selector: 'page-signup',\n  templateUrl: 'signup.html',\n})\nexport class SignupPage {\n\n    constructor(private authService: AuthService,\n                private loadingCtrl: LoadingController,\n                private alertCtrl: AlertController) {}\n\n    onSignup(form: NgForm) {\n        const loading = this.loadingCtrl.create({\n            content: 'Signing you up...'\n        });\n        const {email, password} = form.value;\n        loading.present();\n        this.authService.signup(email, password)\n            .then(data => {\n                loading.dismiss()\n            })\n            .catch(error =>  {\n                console.info('firebase error response', error);\n                loading.dismiss();\n                this.alertCtrl.create({\n                    title: \"Signup failed\",\n                    message: error.message,\n                    buttons: ['OK']\n                }).present()\n            });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 183;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 183\n// module chunks = 6","var map = {\n\t\"../pages/edit-recipe/edit-recipe.module\": [\n\t\t721,\n\t\t5\n\t],\n\t\"../pages/recipe/recipe.module\": [\n\t\t722,\n\t\t4\n\t],\n\t\"../pages/recipes/recipes.module\": [\n\t\t723,\n\t\t3\n\t],\n\t\"../pages/shopping-list/shopping-list.module\": [\n\t\t724,\n\t\t2\n\t],\n\t\"../pages/signin/signin.module\": [\n\t\t725,\n\t\t1\n\t],\n\t\"../pages/signup/signup.module\": [\n\t\t726,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 227;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 227\n// module chunks = 6","import {Component} from \"@angular/core\";\nimport {ShoppingListPage} from \"../shopping-list/shopping-list\";\nimport {RecipesPage} from \"../recipes/recipes\";\nimport {DevToolsExtension, NgRedux} from \"@angular-redux/store\";\nimport {INITIAL_STATE, recipeReducer} from \"../../reducers/recipe.reducer\";\nimport {MyRecipeState} from \"../../models/store\";\n\n@Component({\n  selector: 'page-tabs',\n  template: `\n    <ion-tabs [selectedIndex]=\"1\">\n      <ion-tab [root]=\"shoppingListPage\" tabTitle=\"Shopping List\" tabIcon=\"list-box\"></ion-tab>\n      <ion-tab [root]=\"recipesPage\" tabTitle=\"Recipes\" tabIcon=\"book\"></ion-tab>\n    </ion-tabs>\n  `\n})\nexport class TabsPage {\n  shoppingListPage: any = ShoppingListPage;\n  recipesPage: any = RecipesPage;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import {BrowserModule} from '@angular/platform-browser';\nimport {ErrorHandler, NgModule} from '@angular/core';\nimport {IonicApp, IonicErrorHandler, IonicModule} from 'ionic-angular';\nimport {SplashScreen} from '@ionic-native/splash-screen';\nimport {StatusBar} from '@ionic-native/status-bar';\n\nimport {MyApp} from './app.component';\nimport {TabsPage} from \"../pages/tabs/tabs\";\nimport {RecipePage} from \"../pages/recipe/recipe\";\nimport {RecipesPage} from \"../pages/recipes/recipes\";\nimport {ShoppingListPage} from \"../pages/shopping-list/shopping-list\";\nimport {EditRecipePage} from \"../pages/edit-recipe/edit-recipe\";\nimport {ShoppingListService} from \"../services/shopping-list\";\nimport {RecipesService} from \"../services/recipes\";\nimport {DevToolsExtension, NgRedux, NgReduxModule} from \"@angular-redux/store\";\nimport {RecipeActions} from \"../actions/recipe.action\";\nimport {IngredientActions} from \"../actions/ingredient.action\";\nimport {SigninPage} from \"../pages/signin/signin\";\nimport {SignupPage} from \"../pages/signup/signup\";\nimport {INITIAL_STATE, recipeReducer} from \"../reducers/recipe.reducer\";\nimport {MyRecipeState} from \"../models/store\";\nimport {AuthService} from \"../services/auth\";\nimport {SiOptionsPage} from \"../pages/shopping-list/si-options/si-options\";\nimport {HttpModule} from \"@angular/http\";\nimport {HttpClientModule} from \"@angular/common/http\";\nimport {RecipesOptionsPage} from \"../pages/recipes/recipes-options/recipes-options\";\ndeclare var require;\nvar reduxLogger = require(\"redux-logger\");\n\n@NgModule({\n    declarations: [\n        MyApp,\n        TabsPage,\n        RecipePage,\n        RecipesPage,\n        ShoppingListPage,\n        EditRecipePage,\n        SigninPage,\n        SignupPage,\n        SiOptionsPage,\n        RecipesOptionsPage\n    ],\n    imports: [\n        BrowserModule,\n        NgReduxModule,\n        HttpClientModule,\n        IonicModule.forRoot(MyApp)\n    ],\n    bootstrap: [IonicApp],\n    entryComponents: [\n        MyApp,\n        TabsPage,\n        RecipePage,\n        RecipesPage,\n        ShoppingListPage,\n        EditRecipePage,\n        SigninPage,\n        SignupPage,\n        SiOptionsPage,\n        RecipesOptionsPage\n    ],\n    providers: [\n        StatusBar,\n        SplashScreen,\n        ShoppingListService,\n        RecipesService,\n        RecipeActions,\n        AuthService,\n        IngredientActions,\n        {provide: ErrorHandler, useClass: IonicErrorHandler},\n        DevToolsExtension\n    ]\n})\nexport class AppModule {\n\n\n    constructor(public store: NgRedux<MyRecipeState>, public devTools: DevToolsExtension) {\n        store.configureStore(\n            recipeReducer,\n            INITIAL_STATE,\n            [reduxLogger.createLogger()],\n            devTools.isEnabled() ? [devTools.enhancer() ]: []\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import {Ingredient} from \"./ingredient\";\n\nexport class Recipe {\n\n  constructor(public title: string,\n              public description: string,\n              public difficulty: string,\n              public ingredients: Ingredient[]) {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/recipe.ts","import firebase from 'firebase';\n\nexport class AuthService {\n\n    signup(email:string, password:string) {\n        return firebase.app().auth().createUserWithEmailAndPassword(email, password);\n    }\n\n    signin(email:string, password:string) {\n        //var provider = new firebase.auth.GoogleAuthProvider();\n        //provider.addScope('https://www.googleapis.com/auth/contacts.readonly');\n        //firebase.auth().signInWithPopup(provider)\n        //    .then(result => console.info('Auth Google Result', result))\n        //    .catch(error => console.info('error', error));\n        return firebase.auth().signInWithEmailAndPassword(email, password);\n    }\n\n    logout() {\n        firebase.auth().signOut()\n    }\n\n    getActiveUser() {\n        return firebase.auth().currentUser;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/auth.ts","import {FluxStandardAction} from \"flux-standard-action\";\nimport {Recipe} from \"../models/recipe\";\nimport {Injectable} from \"@angular/core\";\nimport {dispatch} from \"@angular-redux/store\";\nimport {AddPayload, IdxPayload, RecipeAddMetadata} from \"../models/store\";\n\nexport type RecipeLoadAction = FluxStandardAction<null, null>;\nexport type RecipeAddAction = FluxStandardAction<AddPayload, RecipeAddMetadata>;\nexport type RecipeRemoveAction = FluxStandardAction<IdxPayload, null>;\nexport type RecipesRemoveAllAction = FluxStandardAction<null, null>;\n\n@Injectable()\nexport class RecipeActions {\n\n    static readonly LOAD_RECIPES_BEGIN = 'LOAD_RECIPES_BEGIN';\n    static readonly LOAD_RECIPES = 'LOAD_RECIPES';\n    static readonly LOAD_RECIPES_FINISHED = 'LOAD_RECIPES_FINISHED';\n    static readonly ADD_RECIPES = 'ADD_RECIPES';\n    static readonly REMOVE_RECIPE = 'REMOVE_RECIPE';\n    static readonly REMOVE_ALL_RECIPES = 'REMOVE_ALL_RECIPES';\n\n    @dispatch()\n    loadRecipesBegin = (): RecipeLoadAction => ({\n        type: RecipeActions.LOAD_RECIPES_BEGIN,\n        meta: null,\n        payload: null\n    });\n\n    @dispatch()\n    loadRecipesFinished = (): RecipeLoadAction => ({\n        type: RecipeActions.LOAD_RECIPES_FINISHED,\n        meta: null,\n        payload: null\n    });\n\n    @dispatch()\n    loadRecipes = (): RecipeLoadAction => ({\n        type: RecipeActions.LOAD_RECIPES,\n        meta: null,\n        payload: null\n    });\n\n    @dispatch()\n    addRecipes = (recipes: Recipe[]): RecipeAddAction => ({\n        type: RecipeActions.ADD_RECIPES,\n        meta: null,\n        payload: recipes\n    });\n\n    @dispatch()\n    removeRecipe = (idx: number): RecipeRemoveAction => ({\n        type: RecipeActions.REMOVE_RECIPE,\n        meta: null,\n        payload: idx\n    });\n\n    @dispatch()\n    removeAllRecipes = (): RecipesRemoveAllAction => ({\n        type: RecipeActions.REMOVE_ALL_RECIPES,\n        meta: null,\n        payload: null\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/recipe.action.ts","import {FluxStandardAction} from \"flux-standard-action\";\nimport {Injectable} from \"@angular/core\";\nimport {dispatch} from \"@angular-redux/store\";\nimport {RecipeRemoveAction} from \"./recipe.action\";\nimport {AddPayload, IdxPayload, IngredientAddMetadata} from \"../models/store\";\nimport {Ingredient} from \"../models/ingredient\";\n\nexport type IngredientLoadAction = FluxStandardAction<null, null>;\nexport type IngredientAddAction = FluxStandardAction<AddPayload, IngredientAddMetadata>;\nexport type IngredientRemoveAction = FluxStandardAction<IdxPayload, null>;\nexport type IngredientRemoveAllAction = FluxStandardAction<null, null>;\nexport type IngredientEditAction = FluxStandardAction<AddPayload, null>;\n\n\n@Injectable()\nexport class IngredientActions {\n\n    static readonly LOAD_INGREDIENTS_BEGIN = 'LOAD_INGREDIENTS_BEGIN';\n    static readonly LOAD_INGREDIENTS = 'LOAD_INGREDIENTS';\n    static readonly LOAD_INGREDIENTS_FINISHED = 'LOAD_INGREDIENTS_FINISHED';\n    static readonly ADD_INGREDIENTS = 'ADD_INGREDIENTS';\n    static readonly REMOVE_INGREDIENT = 'REMOVE_INGREDIENT';\n    static readonly REMOVE_ALL_INGREDIENTS = 'REMOVE_INGREDIENTS';\n    static readonly EDIT_INGREDIENT = 'EDIT_INGREDIENT';\n\n    @dispatch()\n    loadIngredientsBegin = (): IngredientLoadAction => ({\n        type: IngredientActions.LOAD_INGREDIENTS_BEGIN,\n        meta: null,\n        payload: null\n    });\n\n    @dispatch()\n    loadIngredientsFinished = (): IngredientLoadAction => ({\n        type: IngredientActions.LOAD_INGREDIENTS_FINISHED,\n        meta: null,\n        payload: null\n    });\n\n    @dispatch()\n    loadIngredients = (): IngredientLoadAction => ({\n        type: IngredientActions.LOAD_INGREDIENTS,\n        meta: null,\n        payload: null\n    });\n\n    @dispatch()\n    addIngredients = (ingredients: Ingredient[]): IngredientAddAction => ({\n        type: IngredientActions.ADD_INGREDIENTS,\n        meta: null,\n        payload: ingredients\n    });\n\n    @dispatch()\n    removeIngredient = (idx: number): IngredientRemoveAction => ({\n        type: IngredientActions.REMOVE_INGREDIENT,\n        meta: null,\n        payload: idx\n    });\n\n    @dispatch()\n    removeAllIngredients = (): IngredientRemoveAllAction => ({\n        type: IngredientActions.REMOVE_ALL_INGREDIENTS,\n        meta: null,\n        payload: null\n    });\n\n    @dispatch()\n    editIngredient = (ingredient: Ingredient): IngredientAddAction => ({\n        type: IngredientActions.EDIT_INGREDIENT,\n        meta: null,\n        payload: ingredient\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/ingredient.action.ts","import {Component, ViewChild} from '@angular/core';\nimport {MenuController, NavController, Platform} from 'ionic-angular';\nimport {StatusBar} from '@ionic-native/status-bar';\nimport {SplashScreen} from '@ionic-native/splash-screen';\nimport {TabsPage} from \"../pages/tabs/tabs\";\nimport {SigninPage} from \"../pages/signin/signin\";\nimport {SignupPage} from \"../pages/signup/signup\";\nimport firebase from 'firebase';\nimport {AuthService} from \"../services/auth\";\nimport {ShoppingListService} from \"../services/shopping-list\";\nimport {RecipesService} from \"../services/recipes\";\n\n@Component({\n    templateUrl: 'app.html'\n})\nexport class MyApp {\n    rootPage: any = SigninPage;\n    tabsPage: any = TabsPage;\n    signinPage: any = SigninPage;\n    signupPage: any = SignupPage;\n\n    @ViewChild('nav') navCtrl: NavController;\n    private isAuthenticated: boolean;\n\n    constructor(platform: Platform,\n                statusBar: StatusBar,\n                splashScreen: SplashScreen,\n                public authService: AuthService,\n                private slService: ShoppingListService,\n                private recipeService: RecipesService,\n                private menuCtrl: MenuController) {\n\n        firebase.initializeApp({\n            apiKey: \"AIzaSyBwq-K9FqQuzouyj7fp1ymJMCyQnREl2Zk\",\n            authDomain: \"ionic3-training.firebaseapp.com\",\n            databaseURL: \"https://ionic3-training.firebaseio.com\",\n            projectId: \"ionic3-training\",\n            storageBucket: \"ionic3-training.appspot.com\",\n            messagingSenderId: \"174354866330\"\n        });\n\n        firebase.auth().languageCode = 'it';\n\n        firebase.auth().onAuthStateChanged(user => {\n            console.info('User', user);\n            if (user) {\n                this.isAuthenticated = true;\n               this.rootPage = TabsPage;\n               this.slService.getItems();\n               this.recipeService.getRecipes();\n\n            } else {\n                this.isAuthenticated = false;\n                this.rootPage = SigninPage;\n            }\n        });\n\n        platform.ready().then(() => {\n            statusBar.styleDefault();\n            splashScreen.hide();\n        });\n    }\n\n    onLoad(page) {\n        this.navCtrl.setRoot(page);\n        this.menuCtrl.close();\n    }\n\n    onLogout() {\n        this.authService.logout();\n        this.navCtrl.setRoot(SigninPage);\n        this.menuCtrl.close();\n    }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {Action} from \"redux\";\nimport {RecipeActions, RecipeAddAction, RecipeRemoveAction} from \"../actions/recipe.action\";\nimport {MyRecipeState} from \"../models/store\";\nimport {\n    IngredientActions,\n    IngredientAddAction,\n    IngredientEditAction,\n    IngredientRemoveAction\n} from \"../actions/ingredient.action\";\nimport {Recipe} from \"../models/recipe\";\nimport {Ingredient} from \"../models/ingredient\";\n\nexport const INITIAL_STATE: MyRecipeState = {\n    recipes: [],\n    ingredients: [],\n    loading: false\n};\n\n/**\n * Redux reducer\n *\n * @param {MyRecipeState} state\n * @param {Action} action\n * @returns {MyRecipeState}\n */\nexport function recipeReducer(state: MyRecipeState = INITIAL_STATE, action: Action): MyRecipeState {\n\n    switch (action.type) {\n        case RecipeActions.LOAD_RECIPES_BEGIN:\n            return Object.assign({}, state, {\n                loading: true\n            });\n        case RecipeActions.LOAD_RECIPES_FINISHED:\n            return Object.assign({}, state, {\n                loading: false\n            });\n        case RecipeActions.LOAD_RECIPES:\n            return state;\n        case RecipeActions.ADD_RECIPES:\n            const recipeAddAction = action as RecipeAddAction;\n            return Object.assign({}, state, {\n                recipes: state.recipes.concat(...(<Array<Recipe>>recipeAddAction.payload).slice(0))\n            });\n        case RecipeActions.REMOVE_RECIPE: {\n            const removeAct = action as RecipeRemoveAction;\n            const copy = state.recipes.slice();\n            copy.splice(removeAct.payload, 1);\n            return Object.assign({}, state, {\n                recipes: copy\n            });\n        }\n        case RecipeActions.REMOVE_ALL_RECIPES:\n            return Object.assign({}, state, {\n                recipes: []\n            });\n        case IngredientActions.LOAD_INGREDIENTS_BEGIN:\n            return Object.assign({}, state, {\n                loading: true\n            });\n\n        case IngredientActions.LOAD_INGREDIENTS_FINISHED:\n            return Object.assign({}, state, {\n                loading: false\n            });\n        case IngredientActions.LOAD_INGREDIENTS:\n            return state;\n        case IngredientActions.ADD_INGREDIENTS: {\n            const ingredientAddAction = action as IngredientAddAction;\n            return Object.assign({}, state, {\n                ingredients: state.ingredients.concat(...(<Ingredient[]>ingredientAddAction.payload).slice(0))\n            });\n        }\n        case IngredientActions.REMOVE_INGREDIENT:\n            const removeAction = action as IngredientRemoveAction;\n            const copy = state.ingredients.slice();\n            copy.splice(removeAction.payload, 1);\n            return Object.assign({}, state, {\n                ingredients: copy\n            });\n        case IngredientActions.REMOVE_ALL_INGREDIENTS:\n            return Object.assign({}, state, {\n                ingredients: []\n            });\n        case IngredientActions.EDIT_INGREDIENT:\n            const editAction = action as IngredientEditAction;\n    } //switch\n\n    return state;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/recipe.reducer.ts","import {Component} from \"@angular/core\";\nimport {ViewController} from \"ionic-angular\";\n\n@Component({\n    selector: 'page-recipes-options',\n    template: `\n        <ion-grid text-center>\n            <ion-row>\n                <ion-col>\n                    <h3>Store & Load</h3>\n                </ion-col>\n            </ion-row>\n            <ion-row>\n                <ion-col>\n                    <button ion-button outline (click)=\"onAction('load')\">Load List</button>\n                </ion-col>\n            </ion-row>\n            <ion-row>\n                <ion-col>\n                    <button ion-button outline (click)=\"onAction('store')\">Save List</button>\n                </ion-col>\n            </ion-row>\n        </ion-grid>\n    `\n})\nexport class RecipesOptionsPage {\n    constructor(private viewCtrl: ViewController) {}\n    onAction(action: string) {\n        this.viewCtrl.dismiss({action: action});\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/recipes/recipes-options/recipes-options.ts","import {Recipe} from \"../models/recipe\";\nimport {RecipeActions} from \"../actions/recipe.action\";\nimport {Injectable} from \"@angular/core\";\nimport firebase from 'firebase';\nimport {AuthService} from \"./auth\";\nimport {NgRedux} from \"@angular-redux/store\";\nimport {MyRecipeState} from \"../models/store\";\n\n@Injectable()\nexport class RecipesService {\n  constructor(private recipeActions: RecipeActions,\n              private authService: AuthService,\n              private ngRedux: NgRedux<MyRecipeState>) {}\n\n  addRecipe({title, description, difficulty, ingredients}) {\n    this.recipeActions.addRecipes([new Recipe(title, description, difficulty, ingredients)]);\n  }\n\n  removeRecipe(index: number) {\n    this.recipeActions.removeRecipe(index);\n  }\n\n  getRecipes() {\n      const userId = this.authService.getActiveUser().uid;\n      let shoppingListRef = firebase.database()\n          .ref(`myrecipe/users/${userId}`)\n          .child('recipes');\n      shoppingListRef.once('value')\n          .then( (snapshot) => {\n              let recipes: Recipe[] = snapshot.val() || [];\n              this.recipeActions.loadRecipesBegin();\n              this.recipeActions.removeAllRecipes();\n              this.recipeActions.addRecipes(recipes);\n              this.recipeActions.loadRecipesFinished();\n          });\n  }\n\n  storeList() {\n      const userId = this.authService.getActiveUser().uid;\n      let recipes = this.ngRedux.getState().recipes;\n      let recipesRef = firebase.database()\n          .ref(`myrecipe/users/${userId}`)\n          .child('recipes');\n      return recipesRef.set(recipes);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/recipes.ts","import {Component, OnInit} from '@angular/core';\nimport {\n  ActionSheetController,\n  AlertController,\n  IonicPage,\n  NavController,\n  NavParams,\n  ToastController\n} from 'ionic-angular';\nimport {FormArray, FormControl, FormGroup, Validators} from \"@angular/forms\";\nimport {RecipesService} from \"../../services/recipes\";\nimport {Ingredient} from \"../../models/ingredient\";\nimport {Recipe} from \"../../models/recipe\";\n\n@IonicPage()\n@Component({\n  selector: 'page-edit-recipe',\n  templateUrl: 'edit-recipe.html',\n})\nexport class EditRecipePage implements OnInit {\n  mode = 'New';\n  selectOptions = ['Easy', 'Medium', 'Hard'];\n  recipeForm: FormGroup;\n  recipe: Recipe;\n  index: number;\n\n  constructor(public navParams: NavParams,\n              public navCtrl: NavController,\n              public  actionSheetCtrl: ActionSheetController,\n              public alertCtrl: AlertController,\n              public toastCtrl: ToastController,\n              public recipesService: RecipesService) {\n  }\n\n  ngOnInit(): void {\n    this.mode = this.navParams.get('mode');\n    if(this.mode === 'Edit') {\n      console.log('Initializing form for editing.');\n      this.recipe = this.navParams.get('recipe');\n      this.index = this.navParams.get('index');\n    }\n    this.initializeForm();\n  }\n\n  onSubmit() {\n    console.info('RecipeForm', this.recipeForm);\n    const value = this.recipeForm.value;\n    let ingredients = [];\n    if (value.ingredients.length > 0) {\n      ingredients = value.ingredients.map(name => new Ingredient(name, 1));\n    }\n\n    if (this.mode === 'Edit') {\n      this.recipesService.removeRecipe(this.index);\n    }\n\n    this.recipesService.addRecipe({\n      title: value.title,\n      description: value.description,\n      difficulty: value.difficulty,\n      ingredients\n    });\n    this.recipeForm.reset();\n    this.navCtrl.popToRoot();\n  }\n\n  private initializeForm() {\n    let title = null;\n    let description = null;\n    let difficulty = 'Medium';\n    let ingredients = [];\n\n    if (this.mode == 'Edit') {\n      title = this.recipe.title;\n      description = this.recipe.description;\n      difficulty = this.recipe.difficulty;\n      ingredients = this.recipe.ingredients.map(ingredient => new FormControl(ingredient.name));\n    }\n\n    this.recipeForm = new FormGroup({\n      'title': new FormControl(title, Validators.required),\n      'description': new FormControl(description, Validators.required),\n      'difficulty': new FormControl(difficulty, Validators.required),\n      'ingredients': new FormArray(ingredients)\n    });\n\n\n  }\n\n  onManageIngredients() {\n    const actionSheet = this.actionSheetCtrl.create({\n      title: 'What do you want to do?',\n      buttons: [\n        {\n          text: 'Add Ingredient',\n          handler: () => {\n            this.createNewIngredientAlert().present();\n          }\n        },\n        {\n          text: 'Remove all Ingredients',\n          role: 'destructive',\n          handler: () => {\n\n            let ingredientControls = (<FormArray> this.recipeForm.get('ingredients')).controls;\n            if (ingredientControls.length > 0) {\n              ingredientControls.length = 0;\n              this.presentToast('All ingredients were removed.', 2000, 'bottom');\n            }\n\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel'\n        }\n      ]\n    });\n\n    actionSheet.present();\n  }\n\n  private createNewIngredientAlert() {\n    return this.alertCtrl.create({\n      title: 'Add Ingredient',\n      inputs: [\n        {\n          name: 'name',\n          placeholder: 'Name'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel'\n        },\n        {\n          text: 'Add',\n          handler: data => {\n            if (data.name.trim() == '' || data.name == null) {\n              this.presentToast(\n                'Insert a valid name!',\n                3000,\n                'middle');\n            } else {\n              (<FormArray>this.recipeForm.get('ingredients')).push(new FormControl(data.name));\n              this.presentToast('Ingredient added', 2000);\n            }\n          }\n        }\n      ]\n    });\n  }\n\n  private presentToast(message = 'Ok',\n                       duration = 3000,\n                       position = 'bottom',\n                       showCloseButton = false,\n                       closeButtonText = 'Ok') {\n    const toast = this.toastCtrl.create({\n      message: message,\n      duration: duration,\n      position,\n      showCloseButton,\n      closeButtonText\n    });\n\n    toast.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-recipe/edit-recipe.ts","import {Ingredient} from \"../models/ingredient\";\nimport {IngredientActions} from \"../actions/ingredient.action\";\nimport {Injectable} from \"@angular/core\";\nimport {HttpClient} from \"@angular/common/http\";\n\nimport firebase from 'firebase';\nimport {AuthService} from \"./auth\";\nimport {NgRedux} from \"@angular-redux/store\";\nimport {MyRecipeState} from \"../models/store\";\nimport 'rxjs/add/observable/fromPromise';\n\n@Injectable()\nexport class ShoppingListService {\n\n    constructor(private ingredientActions: IngredientActions,\n                private http: HttpClient,\n                private ngRedux: NgRedux<MyRecipeState>,\n                private authService: AuthService) {\n    }\n\n    addItem({ingredientName: name, amount}): Ingredient {\n        const ingredient = new Ingredient(name, amount);\n        this.ingredientActions.addIngredients([ingredient]);\n        return ingredient;\n    }\n\n    addItems(items: Ingredient[]) {\n        this.ingredientActions.addIngredients(items);\n    }\n\n    getItems() {\n        const userId = this.authService.getActiveUser().uid;\n        let shoppingListRef = firebase.database()\n            .ref(`myrecipe/users/${userId}`)\n            .child('shopping-list');\n        shoppingListRef.once('value')\n            .then( (snapshot) => {\n                let ingredients: Ingredient[] = snapshot.val() || [];\n                this.ingredientActions.loadIngredientsBegin();\n                this.ingredientActions.removeAllIngredients();\n                this.ingredientActions.addIngredients(ingredients);\n                this.ingredientActions.loadIngredientsFinished();\n            });\n    }\n\n    storeList() {\n        const userId = this.authService.getActiveUser().uid;\n        let ingredients = this.ngRedux.getState().ingredients;\n        let shoppingListRef = firebase.database()\n            .ref(`myrecipe/users/${userId}`)\n            .child('shopping-list');\n        return shoppingListRef.set(ingredients);\n    }\n\n    removeItem(index: number) {\n        this.ingredientActions.removeIngredient(index);\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/shopping-list.ts"],"sourceRoot":""}